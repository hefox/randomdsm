<?php


function randomdsm_init() {
  $types = array('error','warning','status','unknown');
  $ipsum ="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus a massa odio. Vestibulum cursus varius sem eu lacinia. Nunc sed odio libero. Vivamus ac massa a dolor vestibulum euismod eu nec turpis. Sed imperdiet interdum imperdiet. Curabitur dictum neque sed quam feugiat pretium. Suspendisse condimentum rhoncus sapien, ac consectetur sem bibendum vitae. Donec neque mi, ullamcorper vel pellentesque ac, posuere sit amet urna. Integer est massa, lacinia laoreet accumsan vitae, ullamcorper in mauris. Suspendisse neque nisl, ultrices eu commodo at, bibendum at neque. Fusce accumsan nisi eget lacus feugiat varius. Morbi vestibulum porttitor pulvinar. Praesent orci nisl, ultrices sit amet suscipit ac, adipiscing adipiscing erat. Etiam vel eros quis nisi suscipit consectetur. Donec molestie ornare adipiscing. Nunc congue ultrices mauris, id iaculis arcu hendrerit at. Pellentesque pulvinar metus vitae urna consectetur consectetur. Aliquam nec felis purus. Nulla ac euismod lectus. Donec eget fringilla odio. Aenean risus tellus, blandit vel sodales eget, commodo vitae dui. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Integer non risus orci. Nam imperdiet elit et diam bibendum a lobortis dui varius. Morbi dignissim auctor consequat.In egestas magna et enim bibendum at dignissim lacus sollicitudin. Curabitur eget purus est, ut tristique quam. Cras tincidunt porttitor lorem, tempus pharetra mauris elementum a. In laoreet, nisl vitae placerat pharetra, tellus felis eleifend risus, eget dignissim lectus nunc in elit. Praesent tristique, ligula in malesuada blandit, tellus tortor porta augue, id sagittis felis orci non nibh. Donec nec enim sit amet mauris imperdiet convallis. Aenean venenatis pulvinar felis, quis accumsan sem venenatis quis. In nisl magna, molestie sed porta eu, malesuada non massa. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Vestibulum ac odio urna, ac venenatis velit. Praesent fermentum lacus non sapien imperdiet eu adipiscing libero ultrices. Donec a lorem et nunc feugiat pellentesque ac non lacus. Sed placerat odio ut velit ullamcorper in sodales turpis laoreet. Etiam fringilla ultricies urna, non rhoncus nisi blandit eu. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Fusce in lectus mauris. Fusce vel hendrerit mauris. Mauris at feugiat felis.Proin aliquam lectus a nulla aliquet non tincidunt nunc sollicitudin. Nam convallis commodo tempor. Curabitur convallis, augue ac ultricies lobortis, quam lectus pellentesque ante, at ornare lectus sem sed felis. In in magna ipsum, in pharetra diam. Aenean sit amet felis tortor, eget venenatis lacus. Nunc sit amet orci in sapien dictum tristique eget vel dolor. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Sed pulvinar, turpis vitae condimentum pharetra, elit diam dictum tortor, vitae egestas purus risus ut libero. Donec sem metus, blandit nec dictum ut, suscipit id lectus. Nullam venenatis libero a urna sodales vestibulum.Mauris sit amet rhoncus nulla. Duis consequat facilisis felis egestas hendrerit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Proin hendrerit, dolor non mollis dapibus, erat eros fringilla tortor, nec porta orci lorem in nisl. Proin tempor orci a mi dictum egestas ultrices in metus. Mauris fringilla est at mi faucibus ac ultricies tellus adipiscing. In at massa lacus, vel commodo neque. Integer sit amet lacus vel felis vulputate cursus. Fusce tempor, sem consequat vulputate tincidunt, ante ligula ullamcorper velit, non tristique metus nisi eu tellus. ;";
  foreach($types as $type) {
    $i = rand(1, 6);
    for ($k = 0 ; $k < $i; $k++) {
      $message = substr($ipsum,rand(5,100),rand(101,500));
      if ($k&1) {
        drupal_set_message(t("<b>status</b> !status : <a href='!url'>!message</a>",array('!status'=> $type,'!message'=>$message,'url'=>url())), $type);
      } else {
        drupal_set_message(t("<b>status</b> !status : !message",array('!status'=> $type,'!message'=>$message)),$type);
      }
    }
  }

}